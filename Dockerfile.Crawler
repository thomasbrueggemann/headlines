FROM dlecan/rust-crosscompiler-arm:stable as build

WORKDIR /headlines

COPY ./Cargo.lock ./Cargo.lock
COPY ./Cargo.toml ./Cargo.toml
COPY ./src ./src

RUN cargo build --bin crawler --release --target-dir /headlines/target/release

CMD ["/headlines/target/release/crawler"]